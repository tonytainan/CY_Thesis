{"cells":[{"cell_type":"code","execution_count":1,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":20816,"status":"ok","timestamp":1654757725826,"user":{"displayName":"Tony Wu","userId":"07953069897351175890"},"user_tz":-480},"id":"psIFxZ4QMXml","outputId":"ee2b0282-e49b-451e-eb4a-ff51a6513d37"},"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}],"source":["#Colab資料夾設定方法\n","#!pip install google.colab #如未安裝取消註解後執行\n","import os\n","\n","from google.colab import drive\n","drive.mount('/content/drive')\n","\n","##出現提示欄進行授權\n"]},{"cell_type":"code","execution_count":2,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":1237,"status":"ok","timestamp":1654757737157,"user":{"displayName":"Tony Wu","userId":"07953069897351175890"},"user_tz":-480},"id":"EIdeDQgLNPhb","outputId":"d5aacd97-7f04-4b37-dd1c-9c589dfe9a19"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['SRFlow_train_celebA_tony.ipynb 的副本',\n"," 'pretrained_models',\n"," '.gitignore',\n"," 'requirements.txt',\n"," 'setup.sh',\n"," 'LICENSE',\n"," 'README.md',\n"," 'run_jupyter.sh',\n"," 'code',\n"," 'LICENSES',\n"," 'datasets',\n"," 'experiments',\n"," 'results',\n"," 'SRFlow.ipynb',\n"," 'SRFlow_demo_(file:200004).jpynb',\n"," 'SRFlow_demo_(file:200263).jpynb',\n"," 'SRFlow_demo_(file:200001).jpynb',\n"," 'SRFlow_demo_(file:200355).jpynb',\n"," 'SRFlow_demo_(file:162844).jpynb',\n"," 'SRFlow_demo_(file:162861).jpynb',\n"," 'SRFlow_demo_(file:202503).jpynb',\n"," 'SRFlow_demo_(file:202159).jpynb',\n"," 'SRFlow_demo_(insets_x8).jpynb',\n"," 'SRFlow_demo_(insets_x4).jpynb',\n"," 'SRFlow.ipynb 的副本',\n"," 'demo_on_pretrained.ipynb',\n"," 'SRFlow_demo_(file:200003).jpynb',\n"," 'SRFlow_demo_(gray).jpynb',\n"," 'SRFlow_demo_(file:sight).jpynb']"]},"metadata":{},"execution_count":2}],"source":["os.chdir('/content/drive/MyDrive/Colab Notebooks/SR/SRFlow')\n","os.listdir()"]},{"cell_type":"code","execution_count":3,"metadata":{"id":"u49tk_BzR_T0","colab":{"base_uri":"https://localhost:8080/","height":1000},"executionInfo":{"status":"ok","timestamp":1654757927334,"user_tz":-480,"elapsed":185885,"user":{"displayName":"Tony Wu","userId":"07953069897351175890"}},"outputId":"19148a0b-c487-43ee-e24e-7580e36ff7a5"},"outputs":[{"output_type":"stream","name":"stdout","text":["Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\n","Collecting appnope==0.1.0\n","  Downloading appnope-0.1.0-py2.py3-none-any.whl (4.0 kB)\n","Collecting argon2-cffi==20.1.0\n","  Downloading argon2_cffi-20.1.0-cp35-abi3-manylinux1_x86_64.whl (97 kB)\n","\u001b[K     |████████████████████████████████| 97 kB 3.9 MB/s \n","\u001b[?25hCollecting async-generator==1.10\n","  Downloading async_generator-1.10-py3-none-any.whl (18 kB)\n","Collecting attrs==20.2.0\n","  Downloading attrs-20.2.0-py2.py3-none-any.whl (48 kB)\n","\u001b[K     |████████████████████████████████| 48 kB 6.3 MB/s \n","\u001b[?25hRequirement already satisfied: backcall==0.2.0 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 5)) (0.2.0)\n","Collecting bleach==3.2.1\n","  Downloading bleach-3.2.1-py2.py3-none-any.whl (145 kB)\n","\u001b[K     |████████████████████████████████| 145 kB 29.3 MB/s \n","\u001b[?25hCollecting certifi==2020.6.20\n","  Downloading certifi-2020.6.20-py2.py3-none-any.whl (156 kB)\n","\u001b[K     |████████████████████████████████| 156 kB 69.0 MB/s \n","\u001b[?25hCollecting cffi==1.14.3\n","  Downloading cffi-1.14.3-cp37-cp37m-manylinux1_x86_64.whl (401 kB)\n","\u001b[K     |████████████████████████████████| 401 kB 65.5 MB/s \n","\u001b[?25hCollecting cycler==0.10.0\n","  Downloading cycler-0.10.0-py2.py3-none-any.whl (6.5 kB)\n","Collecting dataclasses==0.6\n","  Downloading dataclasses-0.6-py3-none-any.whl (14 kB)\n","Requirement already satisfied: decorator==4.4.2 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 11)) (4.4.2)\n","Collecting defusedxml==0.6.0\n","  Downloading defusedxml-0.6.0-py2.py3-none-any.whl (23 kB)\n","Collecting entrypoints==0.3\n","  Downloading entrypoints-0.3-py2.py3-none-any.whl (11 kB)\n","Collecting environment-kernels==1.1.1\n","  Downloading environment_kernels-1.1.1.tar.gz (28 kB)\n","Collecting future==0.18.2\n","  Downloading future-0.18.2.tar.gz (829 kB)\n","\u001b[K     |████████████████████████████████| 829 kB 51.1 MB/s \n","\u001b[?25hCollecting imageio==2.9.0\n","  Downloading imageio-2.9.0-py3-none-any.whl (3.3 MB)\n","\u001b[K     |████████████████████████████████| 3.3 MB 54.6 MB/s \n","\u001b[?25hCollecting importlib-metadata==2.0.0\n","  Downloading importlib_metadata-2.0.0-py2.py3-none-any.whl (31 kB)\n","Collecting ipykernel==5.3.4\n","  Downloading ipykernel-5.3.4-py3-none-any.whl (120 kB)\n","\u001b[K     |████████████████████████████████| 120 kB 59.6 MB/s \n","\u001b[?25hCollecting ipython==7.19.0\n","  Downloading ipython-7.19.0-py3-none-any.whl (784 kB)\n","\u001b[K     |████████████████████████████████| 784 kB 59.6 MB/s \n","\u001b[?25hRequirement already satisfied: ipython-genutils==0.2.0 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 20)) (0.2.0)\n","Collecting ipywidgets==7.5.1\n","  Downloading ipywidgets-7.5.1-py2.py3-none-any.whl (121 kB)\n","\u001b[K     |████████████████████████████████| 121 kB 77.5 MB/s \n","\u001b[?25hCollecting jedi==0.17.2\n","  Downloading jedi-0.17.2-py2.py3-none-any.whl (1.4 MB)\n","\u001b[K     |████████████████████████████████| 1.4 MB 56.9 MB/s \n","\u001b[?25hCollecting Jinja2==2.11.2\n","  Downloading Jinja2-2.11.2-py2.py3-none-any.whl (125 kB)\n","\u001b[K     |████████████████████████████████| 125 kB 74.5 MB/s \n","\u001b[?25hCollecting jsonschema==3.2.0\n","  Downloading jsonschema-3.2.0-py2.py3-none-any.whl (56 kB)\n","\u001b[K     |████████████████████████████████| 56 kB 5.6 MB/s \n","\u001b[?25hRequirement already satisfied: jupyter==1.0.0 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 25)) (1.0.0)\n","Collecting jupyter-client==6.1.7\n","  Downloading jupyter_client-6.1.7-py3-none-any.whl (108 kB)\n","\u001b[K     |████████████████████████████████| 108 kB 75.5 MB/s \n","\u001b[?25hCollecting jupyter-console==6.2.0\n","  Downloading jupyter_console-6.2.0-py3-none-any.whl (22 kB)\n","Collecting jupyter-core==4.6.3\n","  Downloading jupyter_core-4.6.3-py2.py3-none-any.whl (83 kB)\n","\u001b[K     |████████████████████████████████| 83 kB 2.2 MB/s \n","\u001b[?25hCollecting jupyterlab-pygments==0.1.2\n","  Downloading jupyterlab_pygments-0.1.2-py2.py3-none-any.whl (4.6 kB)\n","Collecting kiwisolver==1.3.1\n","  Downloading kiwisolver-1.3.1-cp37-cp37m-manylinux1_x86_64.whl (1.1 MB)\n","\u001b[K     |████████████████████████████████| 1.1 MB 55.3 MB/s \n","\u001b[?25hCollecting lpips==0.1.3\n","  Downloading lpips-0.1.3-py3-none-any.whl (53 kB)\n","\u001b[K     |████████████████████████████████| 53 kB 3.0 MB/s \n","\u001b[?25hCollecting MarkupSafe==1.1.1\n","  Downloading MarkupSafe-1.1.1-cp37-cp37m-manylinux2010_x86_64.whl (33 kB)\n","Collecting matplotlib==3.3.2\n","  Downloading matplotlib-3.3.2-cp37-cp37m-manylinux1_x86_64.whl (11.6 MB)\n","\u001b[K     |████████████████████████████████| 11.6 MB 25.9 MB/s \n","\u001b[?25hRequirement already satisfied: mistune==0.8.4 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 34)) (0.8.4)\n","Collecting natsort==7.0.1\n","  Downloading natsort-7.0.1-py3-none-any.whl (33 kB)\n","Collecting nbclient==0.5.1\n","  Downloading nbclient-0.5.1-py3-none-any.whl (65 kB)\n","\u001b[K     |████████████████████████████████| 65 kB 5.3 MB/s \n","\u001b[?25hCollecting nbconvert==6.0.7\n","  Downloading nbconvert-6.0.7-py3-none-any.whl (552 kB)\n","\u001b[K     |████████████████████████████████| 552 kB 40.6 MB/s \n","\u001b[?25hCollecting nbformat==5.0.8\n","  Downloading nbformat-5.0.8-py3-none-any.whl (172 kB)\n","\u001b[K     |████████████████████████████████| 172 kB 75.3 MB/s \n","\u001b[?25hCollecting nest-asyncio==1.4.2\n","  Downloading nest_asyncio-1.4.2-py3-none-any.whl (5.3 kB)\n","Collecting networkx==2.5\n","  Downloading networkx-2.5-py3-none-any.whl (1.6 MB)\n","\u001b[K     |████████████████████████████████| 1.6 MB 43.1 MB/s \n","\u001b[?25hCollecting notebook==6.1.4\n","  Downloading notebook-6.1.4-py3-none-any.whl (9.5 MB)\n","\u001b[K     |████████████████████████████████| 9.5 MB 56.1 MB/s \n","\u001b[?25hCollecting numpy==1.19.4\n","  Downloading numpy-1.19.4-cp37-cp37m-manylinux2010_x86_64.whl (14.5 MB)\n","\u001b[K     |████████████████████████████████| 14.5 MB 10.0 MB/s \n","\u001b[?25hCollecting opencv-python==4.4.0.46\n","  Downloading opencv_python-4.4.0.46-cp37-cp37m-manylinux2014_x86_64.whl (49.5 MB)\n","\u001b[K     |████████████████████████████████| 49.5 MB 92 kB/s \n","\u001b[?25hCollecting packaging==20.4\n","  Downloading packaging-20.4-py2.py3-none-any.whl (37 kB)\n","Collecting pandas==1.1.4\n","  Downloading pandas-1.1.4-cp37-cp37m-manylinux1_x86_64.whl (9.5 MB)\n","\u001b[K     |████████████████████████████████| 9.5 MB 54.1 MB/s \n","\u001b[?25hCollecting pandocfilters==1.4.3\n","  Downloading pandocfilters-1.4.3.tar.gz (16 kB)\n","Collecting parso==0.7.1\n","  Downloading parso-0.7.1-py2.py3-none-any.whl (109 kB)\n","\u001b[K     |████████████████████████████████| 109 kB 65.5 MB/s \n","\u001b[?25hRequirement already satisfied: pexpect==4.8.0 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 48)) (4.8.0)\n","Requirement already satisfied: pickleshare==0.7.5 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 49)) (0.7.5)\n","Collecting Pillow==8.0.1\n","  Downloading Pillow-8.0.1-cp37-cp37m-manylinux1_x86_64.whl (2.2 MB)\n","\u001b[K     |████████████████████████████████| 2.2 MB 54.2 MB/s \n","\u001b[?25hCollecting prometheus-client==0.8.0\n","  Downloading prometheus_client-0.8.0-py2.py3-none-any.whl (53 kB)\n","\u001b[K     |████████████████████████████████| 53 kB 2.8 MB/s \n","\u001b[?25hCollecting prompt-toolkit==3.0.8\n","  Downloading prompt_toolkit-3.0.8-py3-none-any.whl (355 kB)\n","\u001b[K     |████████████████████████████████| 355 kB 69.2 MB/s \n","\u001b[?25hCollecting ptyprocess==0.6.0\n","  Downloading ptyprocess-0.6.0-py2.py3-none-any.whl (39 kB)\n","Collecting pycparser==2.20\n","  Downloading pycparser-2.20-py2.py3-none-any.whl (112 kB)\n","\u001b[K     |████████████████████████████████| 112 kB 76.2 MB/s \n","\u001b[?25hCollecting Pygments==2.7.2\n","  Downloading Pygments-2.7.2-py3-none-any.whl (948 kB)\n","\u001b[K     |████████████████████████████████| 948 kB 64.7 MB/s \n","\u001b[?25hCollecting pyparsing==2.4.7\n","  Downloading pyparsing-2.4.7-py2.py3-none-any.whl (67 kB)\n","\u001b[K     |████████████████████████████████| 67 kB 7.9 MB/s \n","\u001b[?25hCollecting pyrsistent==0.17.3\n","  Downloading pyrsistent-0.17.3.tar.gz (106 kB)\n","\u001b[K     |████████████████████████████████| 106 kB 74.8 MB/s \n","\u001b[?25hCollecting python-dateutil==2.8.1\n","  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\n","\u001b[K     |████████████████████████████████| 227 kB 65.6 MB/s \n","\u001b[?25hCollecting pytz==2020.4\n","  Downloading pytz-2020.4-py2.py3-none-any.whl (509 kB)\n","\u001b[K     |████████████████████████████████| 509 kB 73.8 MB/s \n","\u001b[?25hCollecting PyWavelets==1.1.1\n","  Downloading PyWavelets-1.1.1-cp37-cp37m-manylinux1_x86_64.whl (4.4 MB)\n","\u001b[K     |████████████████████████████████| 4.4 MB 55.6 MB/s \n","\u001b[?25hCollecting PyYAML==5.3.1\n","  Downloading PyYAML-5.3.1.tar.gz (269 kB)\n","\u001b[K     |████████████████████████████████| 269 kB 66.8 MB/s \n","\u001b[?25hCollecting pyzmq==19.0.2\n","  Downloading pyzmq-19.0.2-cp37-cp37m-manylinux1_x86_64.whl (1.1 MB)\n","\u001b[K     |████████████████████████████████| 1.1 MB 54.4 MB/s \n","\u001b[?25hCollecting qtconsole==4.7.7\n","  Downloading qtconsole-4.7.7-py2.py3-none-any.whl (118 kB)\n","\u001b[K     |████████████████████████████████| 118 kB 73.5 MB/s \n","\u001b[?25hCollecting QtPy==1.9.0\n","  Downloading QtPy-1.9.0-py2.py3-none-any.whl (54 kB)\n","\u001b[K     |████████████████████████████████| 54 kB 3.1 MB/s \n","\u001b[?25hCollecting scikit-image==0.17.2\n","  Downloading scikit_image-0.17.2-cp37-cp37m-manylinux1_x86_64.whl (12.5 MB)\n","\u001b[K     |████████████████████████████████| 12.5 MB 57.4 MB/s \n","\u001b[?25hCollecting scipy==1.5.3\n","  Downloading scipy-1.5.3-cp37-cp37m-manylinux1_x86_64.whl (25.9 MB)\n","\u001b[K     |████████████████████████████████| 25.9 MB 2.1 MB/s \n","\u001b[?25hCollecting Send2Trash==1.5.0\n","  Downloading Send2Trash-1.5.0-py3-none-any.whl (12 kB)\n","Requirement already satisfied: six==1.15.0 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 68)) (1.15.0)\n","Collecting terminado==0.9.1\n","  Downloading terminado-0.9.1-py3-none-any.whl (13 kB)\n","Collecting tensorboard==2.4.0\n","  Downloading tensorboard-2.4.0-py3-none-any.whl (10.6 MB)\n","\u001b[K     |████████████████████████████████| 10.6 MB 27.3 MB/s \n","\u001b[?25hCollecting testpath==0.4.4\n","  Downloading testpath-0.4.4-py2.py3-none-any.whl (163 kB)\n","\u001b[K     |████████████████████████████████| 163 kB 77.1 MB/s \n","\u001b[?25hCollecting tifffile==2020.10.1\n","  Downloading tifffile-2020.10.1-py3-none-any.whl (152 kB)\n","\u001b[K     |████████████████████████████████| 152 kB 52.7 MB/s \n","\u001b[?25hCollecting torch==1.7.0\n","  Downloading torch-1.7.0-cp37-cp37m-manylinux1_x86_64.whl (776.7 MB)\n","\u001b[K     |████████████████████████████████| 776.7 MB 4.6 kB/s \n","\u001b[?25hCollecting torchvision==0.8.1\n","  Downloading torchvision-0.8.1-cp37-cp37m-manylinux1_x86_64.whl (12.7 MB)\n","\u001b[K     |████████████████████████████████| 12.7 MB 16.4 MB/s \n","\u001b[?25hCollecting tornado==6.1\n","  Downloading tornado-6.1-cp37-cp37m-manylinux2010_x86_64.whl (428 kB)\n","\u001b[K     |████████████████████████████████| 428 kB 5.0 MB/s \n","\u001b[?25hCollecting tqdm==4.51.0\n","  Downloading tqdm-4.51.0-py2.py3-none-any.whl (70 kB)\n","\u001b[K     |████████████████████████████████| 70 kB 11.0 MB/s \n","\u001b[?25hCollecting traitlets==5.0.5\n","  Downloading traitlets-5.0.5-py3-none-any.whl (100 kB)\n","\u001b[K     |████████████████████████████████| 100 kB 12.3 MB/s \n","\u001b[?25hCollecting typing-extensions==3.7.4.3\n","  Downloading typing_extensions-3.7.4.3-py3-none-any.whl (22 kB)\n","Requirement already satisfied: wcwidth==0.2.5 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 79)) (0.2.5)\n","Requirement already satisfied: webencodings==0.5.1 in /usr/local/lib/python3.7/dist-packages (from -r requirements.txt (line 80)) (0.5.1)\n","Collecting widgetsnbextension==3.5.1\n","  Downloading widgetsnbextension-3.5.1-py2.py3-none-any.whl (2.2 MB)\n","\u001b[K     |████████████████████████████████| 2.2 MB 69.7 MB/s \n","\u001b[?25hCollecting zipp==3.4.0\n","  Downloading zipp-3.4.0-py3-none-any.whl (5.2 kB)\n","Requirement already satisfied: setuptools>=18.5 in /usr/local/lib/python3.7/dist-packages (from ipython==7.19.0->-r requirements.txt (line 19)) (57.4.0)\n","Requirement already satisfied: requests<3,>=2.21.0 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (2.23.0)\n","Requirement already satisfied: absl-py>=0.4 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (1.0.0)\n","Requirement already satisfied: grpcio>=1.24.3 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (1.46.3)\n","Requirement already satisfied: markdown>=2.6.8 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (3.3.7)\n","Requirement already satisfied: google-auth-oauthlib<0.5,>=0.4.1 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (0.4.6)\n","Requirement already satisfied: protobuf>=3.6.0 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (3.17.3)\n","Requirement already satisfied: werkzeug>=0.11.15 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (1.0.1)\n","Requirement already satisfied: wheel>=0.26 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (0.37.1)\n","Requirement already satisfied: tensorboard-plugin-wit>=1.6.0 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (1.8.1)\n","Requirement already satisfied: google-auth<2,>=1.6.3 in /usr/local/lib/python3.7/dist-packages (from tensorboard==2.4.0->-r requirements.txt (line 70)) (1.35.0)\n","Requirement already satisfied: rsa<5,>=3.1.4 in /usr/local/lib/python3.7/dist-packages (from google-auth<2,>=1.6.3->tensorboard==2.4.0->-r requirements.txt (line 70)) (4.8)\n","Requirement already satisfied: cachetools<5.0,>=2.0.0 in /usr/local/lib/python3.7/dist-packages (from google-auth<2,>=1.6.3->tensorboard==2.4.0->-r requirements.txt (line 70)) (4.2.4)\n","Requirement already satisfied: pyasn1-modules>=0.2.1 in /usr/local/lib/python3.7/dist-packages (from google-auth<2,>=1.6.3->tensorboard==2.4.0->-r requirements.txt (line 70)) (0.2.8)\n","Requirement already satisfied: requests-oauthlib>=0.7.0 in /usr/local/lib/python3.7/dist-packages (from google-auth-oauthlib<0.5,>=0.4.1->tensorboard==2.4.0->-r requirements.txt (line 70)) (1.3.1)\n","Collecting markdown>=2.6.8\n","  Downloading Markdown-3.3.6-py3-none-any.whl (97 kB)\n","\u001b[K     |████████████████████████████████| 97 kB 9.0 MB/s \n","\u001b[?25h  Downloading Markdown-3.3.4-py3-none-any.whl (97 kB)\n","\u001b[K     |████████████████████████████████| 97 kB 6.6 MB/s \n","\u001b[?25hRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /usr/local/lib/python3.7/dist-packages (from pyasn1-modules>=0.2.1->google-auth<2,>=1.6.3->tensorboard==2.4.0->-r requirements.txt (line 70)) (0.4.8)\n","Requirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.7/dist-packages (from requests<3,>=2.21.0->tensorboard==2.4.0->-r requirements.txt (line 70)) (2.10)\n","Requirement already satisfied: chardet<4,>=3.0.2 in /usr/local/lib/python3.7/dist-packages (from requests<3,>=2.21.0->tensorboard==2.4.0->-r requirements.txt (line 70)) (3.0.4)\n","Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /usr/local/lib/python3.7/dist-packages (from requests<3,>=2.21.0->tensorboard==2.4.0->-r requirements.txt (line 70)) (1.24.3)\n","Requirement already satisfied: oauthlib>=3.0.0 in /usr/local/lib/python3.7/dist-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib<0.5,>=0.4.1->tensorboard==2.4.0->-r requirements.txt (line 70)) (3.2.0)\n","Building wheels for collected packages: environment-kernels, future, pandocfilters, pyrsistent, PyYAML\n","  Building wheel for environment-kernels (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for environment-kernels: filename=environment_kernels-1.1.1-py3-none-any.whl size=30811 sha256=4e83bb071915846be22fed0d75af90ff1227b0da397238545b1a3a23890f4ea2\n","  Stored in directory: /root/.cache/pip/wheels/dc/e9/1b/600bd04b40a753abe2fcf006b1d2d440ca3a117b9c9da31187\n","  Building wheel for future (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for future: filename=future-0.18.2-py3-none-any.whl size=491070 sha256=9376fc520cd27b55676e8f582fc92fb2160424db0fc9c3321881ef430bcb3396\n","  Stored in directory: /root/.cache/pip/wheels/56/b0/fe/4410d17b32f1f0c3cf54cdfb2bc04d7b4b8f4ae377e2229ba0\n","  Building wheel for pandocfilters (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for pandocfilters: filename=pandocfilters-1.4.3-py3-none-any.whl size=8007 sha256=f5d579460d59c2c54781dab8b86749d2cb92b81a92897a954987673d28da5242\n","  Stored in directory: /root/.cache/pip/wheels/42/81/34/545dc2fbf0e9137811e901108d37fc04650e81d48f97078000\n","  Building wheel for pyrsistent (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for pyrsistent: filename=pyrsistent-0.17.3-cp37-cp37m-linux_x86_64.whl size=98087 sha256=5fa1362c4d416f799686a70b13a0a2a416f460b2b76b71c38b40b84c782e6555\n","  Stored in directory: /root/.cache/pip/wheels/a5/52/bf/71258a1d7b3c8cbe1ee53f9314c6f65f20385481eaee573cc5\n","  Building wheel for PyYAML (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for PyYAML: filename=PyYAML-5.3.1-cp37-cp37m-linux_x86_64.whl size=44636 sha256=45b5d581e5527f863a12d1e1a43e19d76a75856dd153ff5cb1241846282c4aa5\n","  Stored in directory: /root/.cache/pip/wheels/5e/03/1e/e1e954795d6f35dfc7b637fe2277bff021303bd9570ecea653\n","Successfully built environment-kernels future pandocfilters pyrsistent PyYAML\n","Installing collected packages: zipp, traitlets, pyrsistent, importlib-metadata, attrs, tornado, pyzmq, python-dateutil, pyparsing, ptyprocess, parso, jupyter-core, jsonschema, Pygments, pycparser, prompt-toolkit, packaging, nest-asyncio, nbformat, MarkupSafe, jupyter-client, jedi, async-generator, testpath, pandocfilters, nbclient, jupyterlab-pygments, Jinja2, ipython, entrypoints, defusedxml, cffi, bleach, terminado, Send2Trash, prometheus-client, nbconvert, ipykernel, certifi, argon2-cffi, notebook, widgetsnbextension, typing-extensions, QtPy, Pillow, numpy, kiwisolver, future, dataclasses, cycler, torch, tifffile, scipy, qtconsole, PyWavelets, pytz, networkx, matplotlib, markdown, jupyter-console, ipywidgets, imageio, tqdm, torchvision, tensorboard, scikit-image, PyYAML, pandas, opencv-python, natsort, lpips, environment-kernels, appnope\n","  Attempting uninstall: zipp\n","    Found existing installation: zipp 3.8.0\n","    Uninstalling zipp-3.8.0:\n","      Successfully uninstalled zipp-3.8.0\n","  Attempting uninstall: traitlets\n","    Found existing installation: traitlets 5.1.1\n","    Uninstalling traitlets-5.1.1:\n","      Successfully uninstalled traitlets-5.1.1\n","  Attempting uninstall: pyrsistent\n","    Found existing installation: pyrsistent 0.18.1\n","    Uninstalling pyrsistent-0.18.1:\n","      Successfully uninstalled pyrsistent-0.18.1\n","  Attempting uninstall: importlib-metadata\n","    Found existing installation: importlib-metadata 4.11.4\n","    Uninstalling importlib-metadata-4.11.4:\n","      Successfully uninstalled importlib-metadata-4.11.4\n","  Attempting uninstall: attrs\n","    Found existing installation: attrs 21.4.0\n","    Uninstalling attrs-21.4.0:\n","      Successfully uninstalled attrs-21.4.0\n","  Attempting uninstall: tornado\n","    Found existing installation: tornado 5.1.1\n","    Uninstalling tornado-5.1.1:\n","      Successfully uninstalled tornado-5.1.1\n","  Attempting uninstall: pyzmq\n","    Found existing installation: pyzmq 23.0.0\n","    Uninstalling pyzmq-23.0.0:\n","      Successfully uninstalled pyzmq-23.0.0\n","  Attempting uninstall: python-dateutil\n","    Found existing installation: python-dateutil 2.8.2\n","    Uninstalling python-dateutil-2.8.2:\n","      Successfully uninstalled python-dateutil-2.8.2\n","  Attempting uninstall: pyparsing\n","    Found existing installation: pyparsing 3.0.9\n","    Uninstalling pyparsing-3.0.9:\n","      Successfully uninstalled pyparsing-3.0.9\n","  Attempting uninstall: ptyprocess\n","    Found existing installation: ptyprocess 0.7.0\n","    Uninstalling ptyprocess-0.7.0:\n","      Successfully uninstalled ptyprocess-0.7.0\n","  Attempting uninstall: parso\n","    Found existing installation: parso 0.8.3\n","    Uninstalling parso-0.8.3:\n","      Successfully uninstalled parso-0.8.3\n","  Attempting uninstall: jupyter-core\n","    Found existing installation: jupyter-core 4.10.0\n","    Uninstalling jupyter-core-4.10.0:\n","      Successfully uninstalled jupyter-core-4.10.0\n","  Attempting uninstall: jsonschema\n","    Found existing installation: jsonschema 4.3.3\n","    Uninstalling jsonschema-4.3.3:\n","      Successfully uninstalled jsonschema-4.3.3\n","  Attempting uninstall: Pygments\n","    Found existing installation: Pygments 2.6.1\n","    Uninstalling Pygments-2.6.1:\n","      Successfully uninstalled Pygments-2.6.1\n","  Attempting uninstall: pycparser\n","    Found existing installation: pycparser 2.21\n","    Uninstalling pycparser-2.21:\n","      Successfully uninstalled pycparser-2.21\n","  Attempting uninstall: prompt-toolkit\n","    Found existing installation: prompt-toolkit 1.0.18\n","    Uninstalling prompt-toolkit-1.0.18:\n","      Successfully uninstalled prompt-toolkit-1.0.18\n","  Attempting uninstall: packaging\n","    Found existing installation: packaging 21.3\n","    Uninstalling packaging-21.3:\n","      Successfully uninstalled packaging-21.3\n","  Attempting uninstall: nest-asyncio\n","    Found existing installation: nest-asyncio 1.5.5\n","    Uninstalling nest-asyncio-1.5.5:\n","      Successfully uninstalled nest-asyncio-1.5.5\n","  Attempting uninstall: nbformat\n","    Found existing installation: nbformat 5.4.0\n","    Uninstalling nbformat-5.4.0:\n","      Successfully uninstalled nbformat-5.4.0\n","  Attempting uninstall: MarkupSafe\n","    Found existing installation: MarkupSafe 2.0.1\n","    Uninstalling MarkupSafe-2.0.1:\n","      Successfully uninstalled MarkupSafe-2.0.1\n","  Attempting uninstall: jupyter-client\n","    Found existing installation: jupyter-client 5.3.5\n","    Uninstalling jupyter-client-5.3.5:\n","      Successfully uninstalled jupyter-client-5.3.5\n","  Attempting uninstall: jedi\n","    Found existing installation: jedi 0.18.1\n","    Uninstalling jedi-0.18.1:\n","      Successfully uninstalled jedi-0.18.1\n","  Attempting uninstall: testpath\n","    Found existing installation: testpath 0.6.0\n","    Uninstalling testpath-0.6.0:\n","      Successfully uninstalled testpath-0.6.0\n","  Attempting uninstall: pandocfilters\n","    Found existing installation: pandocfilters 1.5.0\n","    Uninstalling pandocfilters-1.5.0:\n","      Successfully uninstalled pandocfilters-1.5.0\n","  Attempting uninstall: nbclient\n","    Found existing installation: nbclient 0.6.4\n","    Uninstalling nbclient-0.6.4:\n","      Successfully uninstalled nbclient-0.6.4\n","  Attempting uninstall: jupyterlab-pygments\n","    Found existing installation: jupyterlab-pygments 0.2.2\n","    Uninstalling jupyterlab-pygments-0.2.2:\n","      Successfully uninstalled jupyterlab-pygments-0.2.2\n","  Attempting uninstall: Jinja2\n","    Found existing installation: Jinja2 2.11.3\n","    Uninstalling Jinja2-2.11.3:\n","      Successfully uninstalled Jinja2-2.11.3\n","  Attempting uninstall: ipython\n","    Found existing installation: ipython 5.5.0\n","    Uninstalling ipython-5.5.0:\n","      Successfully uninstalled ipython-5.5.0\n","  Attempting uninstall: entrypoints\n","    Found existing installation: entrypoints 0.4\n","    Uninstalling entrypoints-0.4:\n","      Successfully uninstalled entrypoints-0.4\n","  Attempting uninstall: defusedxml\n","    Found existing installation: defusedxml 0.7.1\n","    Uninstalling defusedxml-0.7.1:\n","      Successfully uninstalled defusedxml-0.7.1\n","  Attempting uninstall: cffi\n","    Found existing installation: cffi 1.15.0\n","    Uninstalling cffi-1.15.0:\n","      Successfully uninstalled cffi-1.15.0\n","  Attempting uninstall: bleach\n","    Found existing installation: bleach 5.0.0\n","    Uninstalling bleach-5.0.0:\n","      Successfully uninstalled bleach-5.0.0\n","  Attempting uninstall: terminado\n","    Found existing installation: terminado 0.13.3\n","    Uninstalling terminado-0.13.3:\n","      Successfully uninstalled terminado-0.13.3\n","  Attempting uninstall: Send2Trash\n","    Found existing installation: Send2Trash 1.8.0\n","    Uninstalling Send2Trash-1.8.0:\n","      Successfully uninstalled Send2Trash-1.8.0\n","  Attempting uninstall: prometheus-client\n","    Found existing installation: prometheus-client 0.14.1\n","    Uninstalling prometheus-client-0.14.1:\n","      Successfully uninstalled prometheus-client-0.14.1\n","  Attempting uninstall: nbconvert\n","    Found existing installation: nbconvert 5.6.1\n","    Uninstalling nbconvert-5.6.1:\n","      Successfully uninstalled nbconvert-5.6.1\n","  Attempting uninstall: ipykernel\n","    Found existing installation: ipykernel 4.10.1\n","    Uninstalling ipykernel-4.10.1:\n","      Successfully uninstalled ipykernel-4.10.1\n","  Attempting uninstall: certifi\n","    Found existing installation: certifi 2022.5.18.1\n","    Uninstalling certifi-2022.5.18.1:\n","      Successfully uninstalled certifi-2022.5.18.1\n","  Attempting uninstall: argon2-cffi\n","    Found existing installation: argon2-cffi 21.3.0\n","    Uninstalling argon2-cffi-21.3.0:\n","      Successfully uninstalled argon2-cffi-21.3.0\n","  Attempting uninstall: notebook\n","    Found existing installation: notebook 5.3.1\n","    Uninstalling notebook-5.3.1:\n","      Successfully uninstalled notebook-5.3.1\n","  Attempting uninstall: widgetsnbextension\n","    Found existing installation: widgetsnbextension 3.6.0\n","    Uninstalling widgetsnbextension-3.6.0:\n","      Successfully uninstalled widgetsnbextension-3.6.0\n","  Attempting uninstall: typing-extensions\n","    Found existing installation: typing-extensions 4.2.0\n","    Uninstalling typing-extensions-4.2.0:\n","      Successfully uninstalled typing-extensions-4.2.0\n","  Attempting uninstall: QtPy\n","    Found existing installation: QtPy 2.1.0\n","    Uninstalling QtPy-2.1.0:\n","      Successfully uninstalled QtPy-2.1.0\n","  Attempting uninstall: Pillow\n","    Found existing installation: Pillow 7.1.2\n","    Uninstalling Pillow-7.1.2:\n","      Successfully uninstalled Pillow-7.1.2\n","  Attempting uninstall: numpy\n","    Found existing installation: numpy 1.21.6\n","    Uninstalling numpy-1.21.6:\n","      Successfully uninstalled numpy-1.21.6\n","  Attempting uninstall: kiwisolver\n","    Found existing installation: kiwisolver 1.4.2\n","    Uninstalling kiwisolver-1.4.2:\n","      Successfully uninstalled kiwisolver-1.4.2\n","  Attempting uninstall: future\n","    Found existing installation: future 0.16.0\n","    Uninstalling future-0.16.0:\n","      Successfully uninstalled future-0.16.0\n","  Attempting uninstall: cycler\n","    Found existing installation: cycler 0.11.0\n","    Uninstalling cycler-0.11.0:\n","      Successfully uninstalled cycler-0.11.0\n","  Attempting uninstall: torch\n","    Found existing installation: torch 1.11.0+cu113\n","    Uninstalling torch-1.11.0+cu113:\n","      Successfully uninstalled torch-1.11.0+cu113\n","  Attempting uninstall: tifffile\n","    Found existing installation: tifffile 2021.11.2\n","    Uninstalling tifffile-2021.11.2:\n","      Successfully uninstalled tifffile-2021.11.2\n","  Attempting uninstall: scipy\n","    Found existing installation: scipy 1.4.1\n","    Uninstalling scipy-1.4.1:\n","      Successfully uninstalled scipy-1.4.1\n","  Attempting uninstall: qtconsole\n","    Found existing installation: qtconsole 5.3.0\n","    Uninstalling qtconsole-5.3.0:\n","      Successfully uninstalled qtconsole-5.3.0\n","  Attempting uninstall: PyWavelets\n","    Found existing installation: PyWavelets 1.3.0\n","    Uninstalling PyWavelets-1.3.0:\n","      Successfully uninstalled PyWavelets-1.3.0\n","  Attempting uninstall: pytz\n","    Found existing installation: pytz 2022.1\n","    Uninstalling pytz-2022.1:\n","      Successfully uninstalled pytz-2022.1\n","  Attempting uninstall: networkx\n","    Found existing installation: networkx 2.6.3\n","    Uninstalling networkx-2.6.3:\n","      Successfully uninstalled networkx-2.6.3\n","  Attempting uninstall: matplotlib\n","    Found existing installation: matplotlib 3.2.2\n","    Uninstalling matplotlib-3.2.2:\n","      Successfully uninstalled matplotlib-3.2.2\n","  Attempting uninstall: markdown\n","    Found existing installation: Markdown 3.3.7\n","    Uninstalling Markdown-3.3.7:\n","      Successfully uninstalled Markdown-3.3.7\n","  Attempting uninstall: jupyter-console\n","    Found existing installation: jupyter-console 5.2.0\n","    Uninstalling jupyter-console-5.2.0:\n","      Successfully uninstalled jupyter-console-5.2.0\n","  Attempting uninstall: ipywidgets\n","    Found existing installation: ipywidgets 7.7.0\n","    Uninstalling ipywidgets-7.7.0:\n","      Successfully uninstalled ipywidgets-7.7.0\n","  Attempting uninstall: imageio\n","    Found existing installation: imageio 2.4.1\n","    Uninstalling imageio-2.4.1:\n","      Successfully uninstalled imageio-2.4.1\n","  Attempting uninstall: tqdm\n","    Found existing installation: tqdm 4.64.0\n","    Uninstalling tqdm-4.64.0:\n","      Successfully uninstalled tqdm-4.64.0\n","  Attempting uninstall: torchvision\n","    Found existing installation: torchvision 0.12.0+cu113\n","    Uninstalling torchvision-0.12.0+cu113:\n","      Successfully uninstalled torchvision-0.12.0+cu113\n","  Attempting uninstall: tensorboard\n","    Found existing installation: tensorboard 2.8.0\n","    Uninstalling tensorboard-2.8.0:\n","      Successfully uninstalled tensorboard-2.8.0\n","  Attempting uninstall: scikit-image\n","    Found existing installation: scikit-image 0.18.3\n","    Uninstalling scikit-image-0.18.3:\n","      Successfully uninstalled scikit-image-0.18.3\n","  Attempting uninstall: PyYAML\n","    Found existing installation: PyYAML 3.13\n","    Uninstalling PyYAML-3.13:\n","      Successfully uninstalled PyYAML-3.13\n","  Attempting uninstall: pandas\n","    Found existing installation: pandas 1.3.5\n","    Uninstalling pandas-1.3.5:\n","      Successfully uninstalled pandas-1.3.5\n","  Attempting uninstall: opencv-python\n","    Found existing installation: opencv-python 4.1.2.30\n","    Uninstalling opencv-python-4.1.2.30:\n","      Successfully uninstalled opencv-python-4.1.2.30\n","  Attempting uninstall: natsort\n","    Found existing installation: natsort 5.5.0\n","    Uninstalling natsort-5.5.0:\n","      Successfully uninstalled natsort-5.5.0\n","\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\n","xarray-einstats 0.2.2 requires numpy>=1.21, but you have numpy 1.19.4 which is incompatible.\n","torchtext 0.12.0 requires torch==1.11.0, but you have torch 1.7.0 which is incompatible.\n","torchaudio 0.11.0+cu113 requires torch==1.11.0, but you have torch 1.7.0 which is incompatible.\n","tensorflow 2.8.2+zzzcolab20220527125636 requires numpy>=1.20, but you have numpy 1.19.4 which is incompatible.\n","tensorflow 2.8.2+zzzcolab20220527125636 requires tensorboard<2.9,>=2.8, but you have tensorboard 2.4.0 which is incompatible.\n","google-colab 1.0.0 requires ipykernel~=4.10, but you have ipykernel 5.3.4 which is incompatible.\n","google-colab 1.0.0 requires ipython~=5.5.0, but you have ipython 7.19.0 which is incompatible.\n","google-colab 1.0.0 requires notebook~=5.3.0; python_version >= \"3.0\", but you have notebook 6.1.4 which is incompatible.\n","google-colab 1.0.0 requires tornado~=5.1.0; python_version >= \"3.0\", but you have tornado 6.1 which is incompatible.\n","datascience 0.10.6 requires folium==0.2.1, but you have folium 0.8.3 which is incompatible.\n","albumentations 0.1.12 requires imgaug<0.2.7,>=0.2.5, but you have imgaug 0.2.9 which is incompatible.\u001b[0m\n","Successfully installed Jinja2-2.11.2 MarkupSafe-1.1.1 Pillow-8.0.1 PyWavelets-1.1.1 PyYAML-5.3.1 Pygments-2.7.2 QtPy-1.9.0 Send2Trash-1.5.0 appnope-0.1.0 argon2-cffi-20.1.0 async-generator-1.10 attrs-20.2.0 bleach-3.2.1 certifi-2020.6.20 cffi-1.14.3 cycler-0.10.0 dataclasses-0.6 defusedxml-0.6.0 entrypoints-0.3 environment-kernels-1.1.1 future-0.18.2 imageio-2.9.0 importlib-metadata-2.0.0 ipykernel-5.3.4 ipython-7.19.0 ipywidgets-7.5.1 jedi-0.17.2 jsonschema-3.2.0 jupyter-client-6.1.7 jupyter-console-6.2.0 jupyter-core-4.6.3 jupyterlab-pygments-0.1.2 kiwisolver-1.3.1 lpips-0.1.3 markdown-3.3.4 matplotlib-3.3.2 natsort-7.0.1 nbclient-0.5.1 nbconvert-6.0.7 nbformat-5.0.8 nest-asyncio-1.4.2 networkx-2.5 notebook-6.1.4 numpy-1.19.4 opencv-python-4.4.0.46 packaging-20.4 pandas-1.1.4 pandocfilters-1.4.3 parso-0.7.1 prometheus-client-0.8.0 prompt-toolkit-3.0.8 ptyprocess-0.6.0 pycparser-2.20 pyparsing-2.4.7 pyrsistent-0.17.3 python-dateutil-2.8.1 pytz-2020.4 pyzmq-19.0.2 qtconsole-4.7.7 scikit-image-0.17.2 scipy-1.5.3 tensorboard-2.4.0 terminado-0.9.1 testpath-0.4.4 tifffile-2020.10.1 torch-1.7.0 torchvision-0.8.1 tornado-6.1 tqdm-4.51.0 traitlets-5.0.5 typing-extensions-3.7.4.3 widgetsnbextension-3.5.1 zipp-3.4.0\n"]},{"output_type":"display_data","data":{"application/vnd.colab-display-data+json":{"pip_warning":{"packages":["IPython","PIL","cffi","cycler","dateutil","ipykernel","ipywidgets","jupyter_client","jupyter_core","kiwisolver","matplotlib","mpl_toolkits","numpy","prompt_toolkit","pygments","pyparsing","tornado","traitlets","typing_extensions","zmq"]}}},"metadata":{}}],"source":["!pip install -r requirements.txt"]},{"cell_type":"code","source":["os.chdir('/content/drive/MyDrive/Colab Notebooks/SR/SRFlow/code')\n","os.listdir()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"2XNZq1PWlqIx","executionInfo":{"status":"ok","timestamp":1654758734827,"user_tz":-480,"elapsed":350,"user":{"displayName":"Tony Wu","userId":"07953069897351175890"}},"outputId":"b8544cca-38b3-49f1-bfef-53e11992c1c7"},"execution_count":5,"outputs":[{"output_type":"execute_result","data":{"text/plain":["['train.py',\n"," 'test.py',\n"," 'Measure.py',\n"," 'imresize.py',\n"," 'models',\n"," 'confs',\n"," 'options',\n"," 'data',\n"," 'utils',\n"," '__pycache__',\n"," 'prepare_data.py',\n"," 'img_align_celeba',\n"," 'demo_on_pretrained.ipynb']"]},"metadata":{},"execution_count":5}]},{"cell_type":"code","source":["!python train.py -opt ./confs/SRFlow_CelebA_4X_tony.yml "],"metadata":{"id":"xVS7PxmoXK0S","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1654758749738,"user_tz":-480,"elapsed":4767,"user":{"displayName":"Tony Wu","userId":"07953069897351175890"}},"outputId":"828b6f54-060c-4ac9-b6e2-36df7cd991f4"},"execution_count":6,"outputs":[{"output_type":"stream","name":"stdout","text":["Traceback (most recent call last):\n","  File \"train.py\", line 324, in <module>\n","    main()\n","  File \"train.py\", line 59, in main\n","    opt = option.parse(args.opt, is_train=True)\n","  File \"/content/drive/MyDrive/Colab Notebooks/SR/SRFlow/code/options/options.py\", line 27, in parse\n","    with open(opt_path, mode='r') as f:\n","FileNotFoundError: [Errno 2] No such file or directory: './confs/SRFlow_CelebA_4X_tony.yml'\n"]}]},{"cell_type":"code","execution_count":null,"metadata":{"id":"b4m7OZNhTDJh"},"outputs":[],"source":["#!python train.py -opt ./confs/SRFlow_DF2K_4X.yml"]},{"cell_type":"code","source":["!python train.py -opt ./confs/SRFlow_CelebA_8X.yml    # Faces 8X"],"metadata":{"id":"itoRrQUFxxCh","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1654758766062,"user_tz":-480,"elapsed":7207,"user":{"displayName":"Tony Wu","userId":"07953069897351175890"}},"outputId":"59cc5f1c-58b4-43b4-a00d-eb75b6a9cdd4"},"execution_count":7,"outputs":[{"output_type":"stream","name":"stdout","text":["OrderedDict([('manual_seed', 10), ('lr_G', 0.0005), ('weight_decay_G', 0), ('beta1', 0.9), ('beta2', 0.99), ('lr_scheme', 'MultiStepLR'), ('warmup_iter', -1), ('lr_steps_rel', [0.5, 0.75, 0.9, 0.95]), ('lr_gamma', 0.5), ('niter', 200000), ('val_freq', 40000), ('lr_steps', [100000, 150000, 180000, 190000])])\n","Disabled distributed training.\n","Path already exists. Rename it to [/content/drive/MyDrive/Colab Notebooks/SR/SRFlow/experiments/train_archived_220609-071239]\n","22-06-09 07:12:39.537 - INFO:   name: train\n","  use_tb_logger: True\n","  model: SRFlow\n","  distortion: sr\n","  scale: 8\n","  gpu_ids: [0]\n","  datasets:[\n","    train:[\n","      name: CelebA_160_tr\n","      mode: LRHR_PKL\n","      dataroot_GT: ../datasets/celebA-train-gt.pklv4\n","      dataroot_LQ: ../datasets/celebA-train-x8.pklv4\n","      quant: 32\n","      use_shuffle: True\n","      n_workers: 3\n","      batch_size: 16\n","      GT_size: 160\n","      use_flip: True\n","      color: RGB\n","      phase: train\n","      scale: 8\n","      data_type: img\n","    ]\n","    val:[\n","      name: CelebA_160_va\n","      mode: LRHR_PKL\n","      dataroot_GT: ../datasets/celebA-train-gt.pklv4\n","      dataroot_LQ: ../datasets/celebA-train-x8.pklv4\n","      quant: 32\n","      n_max: 20\n","      phase: val\n","      scale: 8\n","      data_type: img\n","    ]\n","  ]\n","  dataroot_GT: ../datasets/celebA-validation-gt\n","  dataroot_LR: ../datasets/celebA-validation-x8\n","  model_path: ../pretrained_models/SRFlow_CelebA_8X.pth\n","  heat: 0.9\n","  network_G:[\n","    which_model_G: SRFlowNet\n","    in_nc: 3\n","    out_nc: 3\n","    nf: 64\n","    nb: 8\n","    upscale: 8\n","    train_RRDB: False\n","    train_RRDB_delay: 0.5\n","    flow:[\n","      K: 16\n","      L: 4\n","      noInitialInj: True\n","      coupling: CondAffineSeparatedAndCond\n","      additionalFlowNoAffine: 2\n","      split:[\n","        enable: True\n","      ]\n","      fea_up0: True\n","      stackRRDB:[\n","        blocks: [1, 3, 5, 7]\n","        concat: True\n","      ]\n","    ]\n","    scale: 8\n","  ]\n","  path:[\n","    pretrain_model_G: ../pretrained_models/RRDB_CelebA_8X.pth\n","    strict_load: True\n","    resume_state: auto\n","    root: /content/drive/MyDrive/Colab Notebooks/SR/SRFlow\n","    experiments_root: /content/drive/MyDrive/Colab Notebooks/SR/SRFlow/experiments/train\n","    models: /content/drive/MyDrive/Colab Notebooks/SR/SRFlow/experiments/train/models\n","    training_state: /content/drive/MyDrive/Colab Notebooks/SR/SRFlow/experiments/train/training_state\n","    log: /content/drive/MyDrive/Colab Notebooks/SR/SRFlow/experiments/train\n","    val_images: /content/drive/MyDrive/Colab Notebooks/SR/SRFlow/experiments/train/val_images\n","  ]\n","  train:[\n","    manual_seed: 10\n","    lr_G: 0.0005\n","    weight_decay_G: 0\n","    beta1: 0.9\n","    beta2: 0.99\n","    lr_scheme: MultiStepLR\n","    warmup_iter: -1\n","    lr_steps_rel: [0.5, 0.75, 0.9, 0.95]\n","    lr_gamma: 0.5\n","    niter: 200000\n","    val_freq: 40000\n","    lr_steps: [100000, 150000, 180000, 190000]\n","  ]\n","  val:[\n","    heats: [0.0, 0.5, 0.75, 1.0]\n","    n_sample: 3\n","  ]\n","  logger:[\n","    print_freq: 100\n","    save_checkpoint_freq: 1000.0\n","  ]\n","  is_train: True\n","  dist: False\n","\n","22-06-09 07:12:43.619 - INFO: Random seed: 10\n","{'name': 'CelebA_160_tr', 'mode': 'LRHR_PKL', 'dataroot_GT': '../datasets/celebA-train-gt.pklv4', 'dataroot_LQ': '../datasets/celebA-train-x8.pklv4', 'quant': 32, 'use_shuffle': True, 'n_workers': 3, 'batch_size': 16, 'GT_size': 160, 'use_flip': True, 'color': 'RGB', 'phase': 'train', 'scale': 8, 'data_type': 'img'}\n","Traceback (most recent call last):\n","  File \"train.py\", line 324, in <module>\n","    main()\n","  File \"train.py\", line 134, in main\n","    train_set = create_dataset(dataset_opt)\n","  File \"/content/drive/MyDrive/Colab Notebooks/SR/SRFlow/code/data/__init__.py\", line 46, in create_dataset\n","    dataset = D(dataset_opt)\n","  File \"/content/drive/MyDrive/Colab Notebooks/SR/SRFlow/code/data/LRHR_PKL_dataset.py\", line 50, in __init__\n","    self.lr_images = self.load_pkls(lr_file_path, n_max)\n","  File \"/content/drive/MyDrive/Colab Notebooks/SR/SRFlow/code/data/LRHR_PKL_dataset.py\", line 71, in load_pkls\n","    assert os.path.isfile(path), path\n","AssertionError: ../datasets/celebA-train-x8.pklv4\n"]}]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true},"id":"DFFOfJGgXJcm"},"outputs":[],"source":["#!CUDA_VISIBLE_DEVICES=-1 python test.py ./confs/SRFlow_DF2K_4X.yml"]},{"cell_type":"code","source":["os.chdir('/content')\n","!wget --continue http://data.vision.ee.ethz.ch/alugmayr/SRFlow/datasets.zip\n","!unzip datasets.zip\n","!rm datasets.zip"],"metadata":{"id":"amwN5HaWjDA3"},"execution_count":null,"outputs":[]}],"metadata":{"colab":{"name":"SRFlow_train_celebA_tony.ipynb 的副本","provenance":[],"collapsed_sections":[],"authorship_tag":"ABX9TyPRiB8Y/dAL0YVhyhXuUf9/"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"},"accelerator":"GPU"},"nbformat":4,"nbformat_minor":0}